# Wallpaper-matched-theme
Match your hyprland theme with your wallpaper colors

üé® Hyprland Dynamic Theming with Matugen & SWWW
This setup allows you to select a wallpaper via a Wofi menu, update your desktop background with an animation, and automatically retheme your system (Hyprland borders, Kitty, Wofi, etc.) to match the wallpaper colors.

üì¶ Prerequisites
Install the necessary packages from the Arch repositories or AUR:

Bash

sudo pacman -S swww wofi
# Install matugen (AUR)
yay -S matugen-bin
üõ†Ô∏è Configuration
1. Initialize Matugen
Matugen requires a configuration file and templates to know which applications to theme.

Create the directory structure:

Bash

mkdir -p ~/.config/matugen/templates
Create ~.config/matugen/config.toml: This file defines where the templates are and where the generated color files should be saved.

Ini, TOML

[config]
# Example for Hyprland and Kitty
[[bindings]]
input_path = "~/.config/matugen/templates/hyprland.conf"
output_path = "~/.config/hypr/colors.conf"

[[bindings]]
input_path = "~/.config/matugen/templates/kitty.conf"
output_path = "~/.config/kitty/colors.conf"
2. Create Templates
Templates use variables like {{colors.primary.default.hex}} which Matugen replaces with sampled colors.

Hyprland Template (~/.config/matugen/templates/hyprland.conf):

Code snippet

$primary = rgb({{colors.primary.default.hex_stripped}})
$surface = rgb({{colors.surface.default.hex_stripped}})
Kitty Template (~/.config/matugen/templates/kitty.conf):

Code snippet

foreground {{colors.on_surface.default.hex}}
background {{colors.surface.default.hex}}
color1     {{colors.primary.default.hex}}
üìú The Integration Script
Create a script (e.g., ~/.local/bin/wallpaper-picker.sh) to bridge everything together. This script lists your wallpapers in Wofi and applies the changes.

Bash

#!/bin/bash

# Directory where wallpapers are stored
WALLPAPER_DIR="$HOME/Pictures/Wallpapers"

# Select wallpaper using Wofi
SELECTED_WALLPAPER=$(ls "$WALLPAPER_DIR" | wofi --dmenu --prompt "Select Wallpaper")

if [ -n "$SELECTED_WALLPAPER" ]; then
    FULL_PATH="$WALLPAPER_DIR/$SELECTED_WALLPAPER"

    # 1. Change wallpaper with animation
    swww img "$FULL_PATH" --transition-type center

    # 2. Generate colors with Matugen
    matugen image "$FULL_PATH"

    # 3. Reload/Refresh apps (Optional)
    # Some apps need a 'source' or 'include' command in their main config
    # to read the generated ~/.config/hypr/colors.conf file.
fi
üöÄ Auto-start
Add the swww daemon to your hyprland.conf so it starts on login:

Code snippet

# ~/.config/hypr/hyprland.conf
exec-once = swww-daemon
source = ~/.config/hypr/colors.conf

# Use the generated variables for borders
general {
    col.active_border = $primary
    col.inactive_border = $surface
}
üí° Key Takeaways from the Video
Animation: swww provides smooth transitions [05:34].

Templates: You must create templates for every app you want to theme (Dunst, Waybar, etc.) [08:32].

Sourcing: Ensure your main app configs (like Kitty or Hyprland) "source" or "include" the output files generated by Matugen [17:30].

Icon Recoloring: For advanced users, scripts can be used to update GTK icon colors to match the theme, though this may take a few seconds to process [34:11].

Youtube video
-------------
https://youtu.be/jf-QH9AWmnU
